<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Search Recipes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <h1>Search Recipes</h1>

    <form method="GET" action="{% url 'search_recipes' %}">
        <label for="title">Search by Title:</label>
        <input type="text" id="title" name="title" value="{{ request.GET.title }}">

        <label for="dishType">Dish Type:</label>
        <select id="dishType" name="dishType">
            <option value="">All Dish Types</option>
            {% for category in categories %}
                <option value="{{ category.dishtype }}" {% if category.dishtype == selected_dish_type %}selected{% endif %}>{{ category.dishtype }}</option>
            {% endfor %}
        </select>

        <button type="submit">Search</button>
    </form>

    <h2>Results</h2>
    <div class="recipes">
        {% for recipe in recipes %}
            <div class="recipe-card">
                <h2>{{ recipe.recipe_name }}</h2>
                <p>Dish Type: {{ recipe.dishType }}</p>
                <p>Description: {{ recipe.description }}</p>
                <p>Created at: {{ recipe.created_at }}</p>
                <p>URL: <a href="{% url 'view_recipe' recipe.id %}">View Recipe</a></p>
            </div>
        {% empty %}
            <p>No recipes found.</p>
        {% endfor %}
    </div>
</body>

</html>
